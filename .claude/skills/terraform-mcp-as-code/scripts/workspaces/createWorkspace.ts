/**
 * create_workspace
 * Creates a new Terraform workspace in the specified organization. This is a destructive operation that will create new infrastructure resources.
 * Auto-generated by mcp-to-claude-skill
 */

import { callMCPTool } from "../client.js";

export interface CreateWorkspaceInput {
  /**
   * Whether to automatically apply successful plans: 'true' or 'false' (default: 'false')
   */
  auto_apply?: string;
  /**
   * Optional description for the workspace
   */
  description?: string;
  /**
   * Execution mode: 'remote', 'local', or 'agent' (default: 'remote')
   */
  execution_mode?: string;
  /**
   * Optional project ID to associate the workspace with
   */
  project_id?: string;
  /**
   * Optional comma-separated list of tags to apply to the workspace
   */
  tags?: string;
  /**
   * The Terraform Cloud/Enterprise organization name
   */
  terraform_org_name: string;
  /**
   * Optional Terraform version to use (e.g., '1.5.0')
   */
  terraform_version?: string;
  /**
   * Optional VCS repository branch (default: main/master)
   */
  vcs_repo_branch?: string;
  /**
   * Optional VCS repository identifier (e.g., 'org/repo')
   */
  vcs_repo_identifier?: string;
  /**
   * OAuth token ID for VCS integration
   */
  vcs_repo_oauth_token_id?: string;
  /**
   * Optional working directory for Terraform operations
   */
  working_directory?: string;
  /**
   * The name of the workspace to create
   */
  workspace_name: string;
  [k: string]: unknown;
}

export interface CreateWorkspaceOutput {
  content?: Array<{
    type: string;
    text?: string;
    [key: string]: any;
  }>;
  isError?: boolean;
  [key: string]: any;
}

/**
 * Creates a new Terraform workspace in the specified organization. This is a destructive operation that will create new infrastructure resources.
 */
export async function CreateWorkspace(
  input: CreateWorkspaceInput
): Promise<CreateWorkspaceOutput> {
  return await callMCPTool<CreateWorkspaceOutput>('create_workspace', input);
}
