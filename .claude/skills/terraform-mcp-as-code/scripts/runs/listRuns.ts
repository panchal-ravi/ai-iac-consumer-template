/**
 * list_runs
 * List or search Terraform runs in a specific workspace with optional filtering.
 * Auto-generated by mcp-to-claude-skill
 */

import { callMCPTool } from "../client.js";

export interface ListRunsInput {
  /**
   * Page number for pagination (min 1)
   */
  page?: number;
  /**
   * Results per page for pagination (min 1, max 100)
   */
  pageSize?: number;
  /**
   * Optional run status filter
   */
  status?: (
    | "pending"
    | "fetching"
    | "fetching_completed"
    | "pre_plan_running"
    | "pre_plan_completed"
    | "queuing"
    | "plan_queued"
    | "planning"
    | "planned"
    | "cost_estimating"
    | "cost_estimated"
    | "policy_checking"
    | "policy_override"
    | "policy_soft_failed"
    | "policy_checked"
    | "confirmed"
    | "post_plan_running"
    | "post_plan_completed"
    | "planned_and_finished"
    | "planned_and_saved"
    | "apply_queued"
    | "applying"
    | "applied"
    | "discarded"
    | "errored"
    | "canceled"
    | "force_canceled"
  )[];
  /**
   * Lists the runs in Terraform Cloud/Enterprise organization based on filters if no workspace is specified
   */
  terraform_org_name: string;
  /**
   * Searches for runs that match the VCS username you supply
   */
  vcs_username?: string;
  /**
   * If specified, lists the runs in the given workspace instead of the organization based on filters
   */
  workspace_name?: string;
  [k: string]: unknown;
}

export interface ListRunsOutput {
  content?: Array<{
    type: string;
    text?: string;
    [key: string]: any;
  }>;
  isError?: boolean;
  [key: string]: any;
}

/**
 * List or search Terraform runs in a specific workspace with optional filtering.
 */
export async function ListRuns(
  input: ListRunsInput
): Promise<ListRunsOutput> {
  return await callMCPTool<ListRunsOutput>('list_runs', input);
}
